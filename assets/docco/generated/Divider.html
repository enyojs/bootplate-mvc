 <!-- generated from template for divider.js -->      <div class="file">   <div>     <span class="title">Divider.js</span>     <span class="path">source/views/Main/Divider.js</span>   </div>             <div class="group">       <div class="comments">                </div>       <div class="source">         <div class="highlight"><pre></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <h2>The <code>Sample.Divider</code> kind</h2>

<p>The divider is a toolbar with options to control the panels
beneath it.</p>       </div>       <div class="source">         <div class="highlight"><pre><span class="nx">enyo</span><span class="p">.</span><span class="nx">kind</span><span class="p">({</span>
    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Sample.Divider&quot;</span><span class="p">,</span>
    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;divider&quot;</span><span class="p">,</span>
    <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.Toolbar&quot;</span><span class="p">,</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>The <em>Sample.files</em> controller has an API for controlling its
<em>index</em> property (the same one that controlls the panels beneath
this view). The buttons on this toolbar have their <em>ontap</em> events
properly mapped to that API and since the controller property of
this view is set to <em>Sample.files</em> it will receive and handle those
events.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">controller</span><span class="o">:</span> <span class="s2">&quot;Sample.files&quot;</span><span class="p">,</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>We may not be able to bind directly to models or collections but
it we use an <em>enyo.ModelController</em> we can bind to that instead
and as you'll see in our bindings block we have the <em>selection</em>
(selected model) of the <em>Sample.files</em> controller bound to the
<em>model</em> property of our newly created model controller. Because this
view will only be implemented once it is safe to assign it directly
to an instance of <em>enyo.ModelController</em>, but if this was to be
subclassed, all future instances would share a reference to this
controller and that would likely not be intended.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">selection</span><span class="o">:</span> <span class="k">new</span> <span class="nx">enyo</span><span class="p">.</span><span class="nx">ModelController</span><span class="p">(),</span>
    <span class="nx">bindings</span><span class="o">:</span> <span class="p">[</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>Here we have create the binding from the selected model of
<em>Sample.files</em> to the <em>model</em> property of our local model controller.</p>       </div>       <div class="source">         <div class="highlight"><pre>        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;.controller.selection&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;.selection.model&quot;</span><span class="p">},</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>We bind to the index of our controller and use a transform to properly
set the <em>disabled</em> property of our back button. Note we name the transform
here but implement it on the view. There are other ways of using transforms
as well.</p>       </div>       <div class="source">         <div class="highlight"><pre>        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;.controller.index&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;.$.back.disabled&quot;</span><span class="p">,</span> <span class="nx">transform</span><span class="o">:</span> <span class="s2">&quot;backTransform&quot;</span><span class="p">},</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>Because the <em>selection</em> property is a model controller we want to use its
<em>path</em> attribute as the content of one of our children. This is a clickable
path that also uses the API associated with controlling the <em>index</em> property
of the <em>Sample.files</em> controller.</p>       </div>       <div class="source">         <div class="highlight"><pre>        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;.selection.path&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;.$.filename.content&quot;</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="nx">components</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.Button&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Welcome&quot;</span><span class="p">,</span> <span class="nx">ontap</span><span class="o">:</span> <span class="s2">&quot;welcome&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.Button&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Files&quot;</span><span class="p">,</span> <span class="nx">ontap</span><span class="o">:</span> <span class="s2">&quot;files&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;back&quot;</span><span class="p">,</span> <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.Button&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Back&quot;</span><span class="p">,</span> <span class="nx">ontap</span><span class="o">:</span> <span class="s2">&quot;back&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;filename&quot;</span><span class="p">,</span> <span class="nx">classes</span><span class="o">:</span> <span class="s2">&quot;filename&quot;</span><span class="p">,</span> <span class="nx">ontap</span><span class="o">:</span> <span class="s2">&quot;filename&quot;</span><span class="p">}</span>
    <span class="p">],</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>While we don't use them, note the additional parameters for this transform.
When it is executed, the <em>direction</em> parameter contains either "source" or
"target" which indicates which of those ends will have their values set. The
third parameter, <em>binding</em>, is a reference to the binding being executed. If
there is a case where you did not want the value to be set you could simply
call <em>binding.stop()</em> and it interrupt the binding and continue. Transforms
are executed in the context of their owner - and since we created the binding
in our bindings block the <em>owner</em> of the binding is this view.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">backTransform</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">direction</span><span class="p">,</span> <span class="nx">binding</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isNaN</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">!==</span> <span class="nx">value</span><span class="p">)</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">},</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>We overload the cleanup here even though it will never be called to show
good awareness that we have an instance of a kind that needs to have its own
destructor called.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">destroy</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">selection</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">selection</span><span class="p">.</span><span class="nx">destroy</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">inherited</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>

</pre></div>       </div>     </div>    </div>