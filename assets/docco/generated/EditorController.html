 <!-- generated from template for editorcontroller.js -->      <section class="file">   <header>     <span class="title">EditorController.js</span>     <span class="path">source/controllers/EditorController.js</span>   </header>             <section class="group">       <section class="comments">                </section>       <section class="source">         <div class="highlight"><pre></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <h2>The <code>Sample.EditorController</code> kind</h2>

<p>The editor controller is responsible for setting up the content in
the <code>Sample.Editor</code> view. It extends <code>enyo.ModelController</code> and proxies
the selected record.</p>       </section>       <section class="source">         <div class="highlight"><pre><span class="nx">enyo</span><span class="p">.</span><span class="nx">kind</span><span class="p">({</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>There is convention (not a requirement) to keep the names of
presentation objects closely linked with those of their
associated controllers. The controller name is typically formed
by appending <code>"Controller"</code> to the name of the view.</p>       </section>       <section class="source">         <div class="highlight"><pre>    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Sample.EditorController&quot;</span><span class="p">,</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>Be sure to read the documentation for <code>enyo.ModelController</code>.</p>       </section>       <section class="source">         <div class="highlight"><pre>    <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;enyo.ModelController&quot;</span><span class="p">,</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>Even though the textarea is in the view, we are owned by the
view and all bubbled events are also passed to us. We have access
to the entirety of the view that owns us via the <code>owner</code> property.</p>       </section>       <section class="source">         <div class="highlight"><pre>    <span class="nx">handlers</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">oninput</span><span class="o">:</span> <span class="s2">&quot;input&quot;</span><span class="p">,</span>
        <span class="nx">onready</span><span class="o">:</span> <span class="s2">&quot;indexChanged&quot;</span>
    <span class="p">},</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
       <span class="k">this</span><span class="p">.</span><span class="nx">inherited</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
       <span class="nx">Sample</span><span class="p">.</span><span class="nx">panels</span><span class="p">.</span><span class="nx">addDispatchTarget</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">},</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>We map the selected index from the panels controller to our own
<code>index</code> property.</p>       </section>       <section class="source">         <div class="highlight"><pre>    <span class="nx">bindings</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;Sample.panels.index&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;index&quot;</span><span class="p">}</span>
    <span class="p">],</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>Note that we can set up a <code>changed</code> event listener for a property
that only exists locally through bindings.</p>       </section>       <section class="source">         <div class="highlight"><pre>    <span class="nx">indexChanged</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">idx</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">index</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">model</span> <span class="o">=</span> <span class="nx">Sample</span><span class="p">.</span><span class="nx">panels</span><span class="p">.</span><span class="nx">at</span><span class="p">(</span><span class="nx">idx</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">model</span> <span class="o">&amp;&amp;</span> <span class="nx">model</span> <span class="o">!==</span> <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="nx">model</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">input</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>Very important: Let changes in the model propagate to changes
in the view. We translate a UI-layer <code>oninput</code> event into a
model-layer change, and the rest of the UI is automatically
updated to reflect the change.</p>       </section>       <section class="source">         <div class="highlight"><pre>        <span class="k">this</span><span class="p">.</span><span class="nx">model</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span><span class="nx">header</span><span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">owner</span><span class="p">.</span><span class="nx">$</span><span class="p">.</span><span class="nx">input</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">)});</span>
    <span class="p">},</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>When the child view of the <code>owner</code> of this controller emits the
<code>done</code> named handler event, it gets sent here to the controller
(since it exists).</p>       </section>       <section class="source">         <div class="highlight"><pre>    <span class="nx">done</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>We are all done editing and can reset the state property.</p>       </section>       <section class="source">         <div class="highlight"><pre>        <span class="nx">Sample</span><span class="p">.</span><span class="nx">panels</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s2">&quot;isEditing&quot;</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>

</pre></div>       </section>     </section>    </section>