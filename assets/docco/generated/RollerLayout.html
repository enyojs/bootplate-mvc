 <!-- generated from template for rollerlayout.js -->      <section class="file">   <header>     <span class="title">RollerLayout.js</span>     <span class="path">source/ext/RollerLayout.js</span>   </header>             <section class="group">       <section class="comments">                </section>       <section class="source">         <div class="highlight"><pre></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <h2>The <code>Sample.RollerLayout</code> kind</h2>

<p>This special layout handler for <code>Sample.Roller</code> is designed to make
adjustments in a mobile environment (where space is limited) or
when an orientation change reduces the amount of vertical display
space available.</p>       </section>       <section class="source">         <div class="highlight"><pre><span class="nx">enyo</span><span class="p">.</span><span class="nx">kind</span><span class="p">({</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Sample.RollerLayout&quot;</span><span class="p">,</span>
  <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;enyo.Layout&quot;</span><span class="p">,</span>
  <span class="nx">flow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">reflow</span><span class="p">();</span>  
  <span class="p">},</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>This method should generally detect a mobile-ish environment and
reduce the number of calculations needed in a non-mobile
environment.</p>       </section>       <section class="source">         <div class="highlight"><pre>  <span class="nx">reflow</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">enyo</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">gesture</span> <span class="o">||</span> <span class="nx">enyo</span><span class="p">.</span><span class="nx">platform</span><span class="p">.</span><span class="nx">touch</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">this</span><span class="p">.</span><span class="nx">adjustBounds</span><span class="p">();</span>
      <span class="p">}</span>
  <span class="p">},</span></pre></div>       </section>     </section>             <section class="group">       <section class="comments">         <p>Makes adjustments if our desired height is greater than the available
height of the window minus the height of the toolbar. (This layout is
designed specifically for this view.)</p>       </section>       <section class="source">         <div class="highlight"><pre>  <span class="nx">adjustBounds</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">root</span> <span class="o">=</span> <span class="nx">enyo</span><span class="p">.</span><span class="nx">application</span><span class="p">.</span><span class="nx">rootView</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">toolbar</span> <span class="o">=</span> <span class="nx">root</span><span class="p">.</span><span class="nx">$</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">frame</span> <span class="o">=</span> <span class="nx">root</span><span class="p">.</span><span class="nx">getBounds</span><span class="p">().</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">toolbar</span><span class="p">.</span><span class="nx">getBounds</span><span class="p">().</span><span class="nx">height</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">max</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">maxHeight</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">calc</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">&lt;</span> <span class="nx">frame</span><span class="o">?</span> <span class="nx">max</span><span class="o">:</span> <span class="nx">frame</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">curr</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">getBounds</span><span class="p">().</span><span class="nx">height</span><span class="p">;</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">curr</span> <span class="o">!==</span> <span class="nx">calc</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">container</span><span class="p">.</span><span class="nx">setBounds</span><span class="p">({</span><span class="nx">height</span><span class="o">:</span> <span class="nx">calc</span><span class="p">},</span> <span class="s2">&quot;px&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

</pre></div>       </section>     </section>    </section>