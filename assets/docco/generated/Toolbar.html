 <!-- generated from template for toolbar.js -->      <div class="file">   <div>     <span class="title">Toolbar.js</span>     <span class="path">source/views/Main/Toolbar.js</span>   </div>             <div class="group">       <div class="comments">                </div>       <div class="source">         <div class="highlight"><pre></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <h2>The <code>Sample.Toolbar</code> kind</h2>

<p>The toolbar in our application is interesting because
of the number of things it connects to. It uses bindings
on the state of the application to control some of its
visual state and binds to some properties of the panels
controller to obtain content in its views that automatically
updates when it changes.</p>       </div>       <div class="source">         <div class="highlight"><pre><span class="nx">enyo</span><span class="p">.</span><span class="nx">kind</span><span class="p">({</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>We name the toolbar as a kind in the namespace of the
application.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Sample.Toolbar&quot;</span><span class="p">,</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>We base the new kind on <code>enyo.MoreToolbar</code> because we want
this application to look good and work well on mobile devices
as well as desktop browsers.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.MoreToolbar&quot;</span><span class="p">,</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>We arbitrarily set the DOM id for CSS selection and ease of
reference later on. This is not strictly necessary.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;toolbar&quot;</span><span class="p">,</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>Although the toolbar does not have its own controller, we
give it a reference to the panels controller. This gives us
a relative reference to the controller from the view; more 
importantly, it gives us automatic propagation of events.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">controller</span><span class="o">:</span> <span class="s2">&quot;Sample.panels&quot;</span><span class="p">,</span>
    <span class="nx">bindings</span><span class="o">:</span> <span class="p">[</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>Notice that we have bindings from the <code>isEditing</code> property of
the panels controller to the <code>disabled</code> property of these
<code>onyx.Button</code> objects. Previously, we used the same property
to set the <code>showing</code> state of our <code>Sample.Editor</code> view.</p>       </div>       <div class="source">         <div class="highlight"><pre>        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;.controller.isEditing&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;.$.edit.content&quot;</span><span class="p">,</span> <span class="nx">transform</span><span class="o">:</span> <span class="s2">&quot;editingTransform&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;.controller.isEditing&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;.$.add.disabled&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;.controller.length&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;.$.count.content&quot;</span><span class="p">},</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>Make special note of the fact that we are using a transform
here. We name the transform but elect to place it on the
<code>owner</code> object of the binding. The binding will find it and
transform the <code>0-n</code> index to <code>1-n+1</code> for our benefit.</p>       </div>       <div class="source">         <div class="highlight"><pre>        <span class="p">{</span><span class="nx">from</span><span class="o">:</span> <span class="s2">&quot;.controller.index&quot;</span><span class="p">,</span> <span class="nx">to</span><span class="o">:</span> <span class="s2">&quot;.$.showing.content&quot;</span><span class="p">,</span> <span class="nx">transform</span><span class="o">:</span> <span class="s2">&quot;showingTransform&quot;</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="nx">components</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="nx">id</span><span class="o">:</span> <span class="s2">&quot;app-label&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Enyo.js MVC&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;edit&quot;</span><span class="p">,</span> <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.Button&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Edit&quot;</span><span class="p">,</span> <span class="nx">ontap</span><span class="o">:</span> <span class="s2">&quot;toggleEditing&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;add&quot;</span><span class="p">,</span> <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.Button&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Add&quot;</span><span class="p">,</span> <span class="nx">ontap</span><span class="o">:</span> <span class="s2">&quot;addModel&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;next&quot;</span><span class="p">,</span> <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;onyx.Button&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Next&quot;</span><span class="p">,</span> <span class="nx">ontap</span><span class="o">:</span> <span class="s2">&quot;nextModel&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="nx">components</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Models: &quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;count&quot;</span><span class="p">,</span> <span class="nx">tag</span><span class="o">:</span> <span class="s2">&quot;span&quot;</span><span class="p">}]},</span>
        <span class="p">{</span><span class="nx">components</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span><span class="nx">tag</span><span class="o">:</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="nx">content</span><span class="o">:</span> <span class="s2">&quot;Showing: &quot;</span><span class="p">},</span>
            <span class="p">{</span><span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;showing&quot;</span><span class="p">,</span> <span class="nx">tag</span><span class="o">:</span> <span class="s2">&quot;span&quot;</span><span class="p">}]}</span>
    <span class="p">],</span></pre></div>       </div>     </div>             <div class="group">       <div class="comments">         <p>Transforms also accept a second parameter, which is set to
the string value of the direction.</p>       </div>       <div class="source">         <div class="highlight"><pre>    <span class="nx">showingTransform</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">value</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">},</span>
    <span class="nx">editingTransform</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">true</span> <span class="o">===</span> <span class="nx">value</span><span class="o">?</span> <span class="s2">&quot;Done&quot;</span><span class="o">:</span> <span class="s2">&quot;Edit&quot;</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">});</span>

</pre></div>       </div>     </div>    </div>